.\" Automatically generated by Pandoc 3.6
.\"
.TH "RK_MAKE Reference" "" "" ""
.IP \[bu] 2
\f[CR]\-d\f[R]: Print debug information
.IP \[bu] 2
\f[CR]make \-\-debug=b\f[R]: Run with basic debugging information
.SH Notes
.SS Parameters
In \f[CR]Makefile\f[R], it\[cq]s really difficult to pass a parameter to
a \f[CR]make\f[R] command, e.g., \f[CR]make force_deploy \-f\f[R].
This is because in \f[CR]make\f[R] parlance the arguments are all
supposed to be files to run the command on, so it breaks the paradigm.
Instead to solve this just make a separate shell script.
.SS Deleting Targets
.IP \[bu] 2
If \f[CR].DELETE_ON_ERROR\f[R] appears as a target, then if the build
fails, the target will be deleted.
The \f[CR]\-i\f[R] / \f[CR]\-\-ignore\-errors\f[R] option can often be
used to keep an executable.
.SH Tips
To suppress output of a command, precede it with an \f[CR]\[at]\f[R]:
.IP
.EX
hello:
    \[at]echo \[dq]hello world\[dq]
.EE
.SH Functions
.IP
.EX
define test_message
    remote=$$(git config \-\-get remote.origin.url | tr \-d \[aq]\[rs]n\[aq]); \[rs]
    if [[ $${remote}  =\[ti] (https://|git\[at])github.com[/:](.*) ]]; then \[rs]
      remote_subpath=\[dq]$${BASH_REMATCH[2]}\[dq]; \[rs]
      remote_subpath=$${remote_subpath%.git}; \[rs]
      remote_url=\[dq]https://github.com/$${remote_subpath}/pulls\[dq]; \[rs]
    else \[rs]
      echo \[dq]\[dq]; \[rs]
      exit 0; \[rs]
    fi; \[rs]
    echo \[dq]Hello $${remote_url} $1\[dq]
endef

run_test: test_start test_finish

test_start:
    \[at]$(call test_message,CISTARTED)

test_finish:
    \[at]$(call test_message,CIFINISHED)
.EE
.SH Variables
.IP
.EX
NAME = robenkleene_macos
ERGODOX_SRC = $(shell pwd)/ergodox_ez$(NAME)
PLANCK_SRC = $(shell pwd)/planck$(NAME)
ERGODOX_DIR = ../qmk_firmware/keyboards/ergodox_ez/keymaps/
PLANCK_DIR = ../qmk_firmware/keyboards/planck/keymaps/
ERGODOX_DEST = $(ERGODOX_DIR)$(NAME)
PLANCK_DEST = $(PLANCK_DIR)$(NAME)

link:
    ln \-s $(ERGODOX_SRC) $(ERGODOX_DIR)
    ln \-s $(PLANCK_SRC) $(PLANCK_DIR)
.EE
